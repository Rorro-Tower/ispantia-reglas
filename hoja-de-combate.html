<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISPANTIA</title>
    <!-- BOOTSTRAP 5.3.8 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <!-- BOOTSTRAP ICONS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <!-- GENERAL CSS -->
    <link rel="stylesheet" href="css/general.css">
    <!-- HOJA DE COMBATE CSS -->
    <link rel="stylesheet" href="css/hoja-de-combate.css">


</head>

<body>
    <header id="top">
        <div class="container">

            <div class="row">
                <div class="col-12 d-flex justify-content-center align-items-center g-0 m-0">
                    <img id="imagen-header" src="imagenes/combate/combate.jpg" alt="">
                </div>
            </div>
            <div class="row">
                <div class="col-12 d-flex justify-content-center align-items-center g-0 m-0">
                    <div class="titulo casilla">
                        <h1>Hoja de Combate</h1>
                    </div>
                </div>
            </div>

        </div>
    </header>
    <main id="combate" class="juego">
        <div class="container">
            <div class="row">
                <div class="col-12 g-0 m-0">
                    <!-- ******************* ATAQUE  ******************* -->
                    <section id="paso-1" class="caracteristicas paso-actual">
                        <div class="container">
                            <div class="row">
                                <div class="col-12 casilla">

                                    <h4 class="potenciador ataque">PASO 1: Iniciativa</h4>
                                    <p>¿Qué bando inicia el ataque?</p>
                                    <div class="d-flex flex-column align-items-center">
                                        <button onclick="seleccionarBando('atacante')" class="cafe">El Gobernador
                                            ataca</button>
                                        <button onclick="seleccionarBando('defensor')" class="morado">El Brujo
                                            ataca</button>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </section>
                    <section id="paso-2" class="caracteristicas paso-oculto">
                        <div class="container">
                            <div class="row">
                                <div class="col-12 casilla">

                                    <h4 class="potenciador ataque">PASO 2: Selección de Unidades</h4>
                                    <div class="grupo-unidad">
                                        <h5>Unidad del Gobernador</h5>
                                        <label for="select-gobernador">Seleccione la unidad:</label>
                                        <select id="select-gobernador"></select>
                                    </div>
                                    <div class="grupo-unidad">
                                        <h5>Unidad del Brujo</h5>
                                        <label for="select-brujo">Seleccione la unidad:</label>
                                        <select id="select-brujo"></select>
                                    </div>
                                    <div class="d-flex flex-column align-items-center"><button
                                            onclick="guardarUnidades()" class="verde">Continuar al Paso 3</button></div>

                                </div>


                            </div>
                        </div>
                    </section>
                    <section id="paso-3" class="caracteristicas paso-oculto">
                        <div class="container">
                            <div class="row">
                                <div class="col-12 casilla">

                                    <h4 class="potenciador ataque">PASO 3: ¿Desea Huir?</h4>
                                    <p>El defensor, <span id="nombre-defensor"></span>, ¿desea intentar la huida?
                                    </p>
                                    <div class="d-flex flex-column align-items-center">
                                        <button onclick="iniciarHuida()" class="verde-claro">Sí, tirar HUÍDA</button>
                                        <button onclick="avanzarPaso(4)">No, combatir</button>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </section>
                    <section id="paso-4" class="caracteristicas paso-oculto">
                        <div class="container">
                            <div class="row">
                                <div class="col-12 casilla potenciadores">

                                    <h4 class="potenciador ataque">PASO 4: Potenciadores y Debilitadores</h4>
                                    <div class="grupo-modificador">
                                        <h3>Maldiciones (Brujo)</h3>
                                        <label for="select-maldicion">Seleccionar Maldición:</label>
                                        <select id="select-maldicion">
                                        </select>
                                    </div>

                                    <div class="grupo-modificador">
                                        <h3>Bendiciones (Gobernador)</h3>
                                        <label for="select-bendicion">Seleccionar Bendición:</label>
                                        <select id="select-bendicion">
                                        </select>
                                    </div>


                                    <div class="d-flex flex-column align-items-center"><button
                                            onclick="aplicarModificadoresYAvanzar()" class="verde">Continuar al
                                            Combate</button></div>

                                </div>
                            </div>
                        </div>
                    </section>
                    <section class="caracteristicas">
                        <div class="container">
                            <div class="row">
                                <div class="col-12 casilla">
                                    <div id="registro-combate">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    <section id="paso-5" class="caracteristicas paso-oculto">
                        <div class="container">
                            <div class="row">
                                <div class="col-12 casilla">

                                    <h4 class="potenciador ataque">PASO 5: Artilugios</h4>
                                    <p>Selecciona el artilugio que usarás contra
                                        <span id="info-defensor-artilugio"></span>
                                    </p>
                                    <div class="grupo-modificador">
                                        <h3>Artilugio</h3>
                                        <label for="select-artilugio">Seleccionar Artilugio:</label>
                                        <select id="select-artilugio">
                                        </select>
                                    </div>
                                    <div id="grupo-cantidad-orbe" class="grupo-modificador" style="display: none;">
                                        <label for="select-cantidad-orbe">Cantidad de Orbes Explosivos (Máx. 2):</label>
                                        <select id="select-cantidad-orbe">
                                            <option value="1">1 Orbe</option>
                                            <option value="2">2 Orbes</option>
                                        </select>
                                    </div>


                                    <div class="d-flex flex-column align-items-center mb-4"><button
                                            onclick="aplicarArtilugiosYAvanzar()" class="verde">Continuar al
                                            Combate</button></div>


                                </div>
                            </div>
                        </div>
                    </section>
                    <section id="paso-6" class="caracteristicas paso-oculto">
                        <div class="container">
                            <div class="row">
                                <div class="col-12 casilla">

                                    <h4 class="potenciador ataque">PASO 6: Combate por Rondas</h4>
                                    <p id="hp-iniciales-info"></p>

                                    <div class="d-flex flex-column align-items-center mb-4"><button
                                            onclick="ejecutarRonda()">¡Lanzar los dados!</button></div>


                                </div>
                            </div>
                        </div>
                    </section>
                    <section id="paso-final" class="caracteristicas paso-oculto">
                        <div class="container">
                            <div class="row">
                                <div class="col-12 casilla">

                                    <h4 class="potenciador ataque">FIN DEL COMBATE</h4>
                                    <p id="ganador-combate"></p>
                                    <p id="recursos-obtenidos"></p>

                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </main>
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-12 d-flex justify-content-center">
                    <p><a href="#top"><i class="bi bi-arrow-up-circle-fill"></i> Volver arriba</a></p>
                </div>
            </div>
            <div class="row">
                <div class="col-12 d-flex justify-content-center">
                    <p><a href="/ispantia-reglas/"><i class="bi bi-house-fill"></i> Volver al Home</a></p>
                </div>
            </div>
        </div>
    </footer>
    <!-- BOOTSTRAP JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
    <!-- IMAGEN HEADER ALEATORIA JS -->
    <script src="js/imagen-aleatoria.js"></script>
    <!-- HOJA DE COMBATE JS -->
    <script src="js/combate-asistente.js"></script>
</body>

</html>